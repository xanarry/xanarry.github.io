<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>xanarry&#39;s</title>
  <meta name="author" content="xanarry">
  
  <meta name="description" content="xanarry&#39;s blog">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="xanarry&#39;s"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="xanarry&#39;s" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">xanarry&#39;s</a></h1>
  <h2><a href="/">创造就是一个构造过程的过程!</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-25T14:37:28.000Z"><a href="/2015/05/25/python字典/">2015-05-25</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/25/python字典/">python字典</a></h1>
  

    </header>
    <div class="entry">
      
        
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-25T14:37:01.000Z"><a href="/2015/05/25/python中各种排序方式的使用/">2015-05-25</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/25/python中各种排序方式的使用/">python中各种排序方式的使用</a></h1>
  

    </header>
    <div class="entry">
      
        
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-25T14:36:04.000Z"><a href="/2015/05/25/python实现高精度乘法/">2015-05-25</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/25/python实现高精度乘法/">python实现高精度乘法</a></h1>
  

    </header>
    <div class="entry">
      
        
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-25T14:35:52.000Z"><a href="/2015/05/25/python实现高精度减法/">2015-05-25</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/25/python实现高精度减法/">python实现高精度减法</a></h1>
  

    </header>
    <div class="entry">
      
        <p>减法的实现同加法基本一致, 也是模拟竖式计算, 额外的处理了一下输入数值大小的问题,否则不然代码量可以更少. 在此不再做过多陈述, 从代码看问题吧!<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cmpare</span><span class="params">(a, b)</span>:</span><span class="comment">#定义函数比较两个数值大小</span></span><br><span class="line">    <span class="keyword">if</span> (len(a) != len(b)):</span><br><span class="line">        <span class="keyword">return</span> len(a) - len(b)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(a)):</span><br><span class="line">            <span class="keyword">if</span> a[i] != b[i]:</span><br><span class="line">                <span class="keyword">return</span> a[i] - b[i]</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minus</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    optr = <span class="string">"+"</span>;</span><br><span class="line">    <span class="keyword">if</span> (cmpare(a, b) &lt; <span class="number">0</span>):</span><br><span class="line">        optr = <span class="string">'-'</span><span class="comment">#如果减数大于被减数,设置符号为负号</span></span><br><span class="line">        temp = a<span class="comment">#并且交换两个数,保证始终用大数减小数</span></span><br><span class="line">        a = b</span><br><span class="line">        b = temp</span><br><span class="line">        </span><br><span class="line">    a = list(map(<span class="keyword">lambda</span> x : int(x), (<span class="string">"0"</span> + str(a)).strip()))</span><br><span class="line">    b = list(map(<span class="keyword">lambda</span> x : int(x), (<span class="string">"0"</span> + str(b)).strip()))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> len(a) &gt; len(b):</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> range(len(a) - len(b)):</span><br><span class="line">            b.insert(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> range(len(b) - len(a)):</span><br><span class="line">            a.insert(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(a) - <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> (a[i] &gt;= b[i]):</span><br><span class="line">            a[i] -= b[i]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            a[i] = a[i] + <span class="number">10</span> - b[i]</span><br><span class="line">            a[i - <span class="number">1</span>] -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> int(optr + reduce(<span class="keyword">lambda</span> x, y : str(x) + str(y), a))</span><br><span class="line"></span><br><span class="line">a = input(<span class="string">"input a: "</span>)</span><br><span class="line">b = input(<span class="string">"input b: "</span>)</span><br><span class="line">print(minus(a, b))</span><br></pre></td></tr></table></figure></p>
<p><em>注意: 输入仅限两个正整数, 输入不分大小</em></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-25T14:35:40.000Z"><a href="/2015/05/25/python实现高精度加法/">2015-05-25</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/25/python实现高精度加法/">python实现高精度加法</a></h1>
  

    </header>
    <div class="entry">
      
        <p>之前一直使用的c++, c++没有提供高精度的计算方案, 所以大整数的运算都需要手动实现,python已经为我们提供了高精度运算, 这里出于刚学习python作为练习, 代码实现高精度加法运算的原理. 高精度加法的过程就是完全模拟列竖式计算的方式,我们开两个列表,将加数a,假如a=1243,在列表中保存为[1, 2, 4, 3], 加数b, 假如b=12, 在列表中保存为[1, 2], 这样的话两个列表的长度不同, 就会后面代码实现的不便, 因此, 在执行计算前, 我们将两个列表处理为</p>
<pre><code>[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">3</span>]
[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]
</code></pre><p>即使两个数长度一致, 短的在左边补0, 最后再在两个数左端都添加一个0, 这样是为了防止最高位进位后导致进位的值没有地方存储, 我们从右边计算到左边,将计算的每一位数保存到列表a中, 上面两个数相加时2+3=5求余保存到a[4], 取整加到a[3]处理进位,4+1=5求余保存到a[3], 取整加到a[2], 依次类推, 如果两数之和大于10, 则有进位1, 否则就是进位0, 相当于没有进位</p>
<p>下面请看代码实现:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce<span class="comment">#导入reduce用于将整数列表中的内容转换为字符串</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> len(a) &gt; len(b):<span class="comment">#将输入的数字左端补齐为同样的长度</span></span><br><span class="line">        b = b.zfill(len(a) - len(b) + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        a = a.zfill(len(b) - len(a) + <span class="number">1</span>)</span><br><span class="line">    <span class="comment">#("0" + str(a))前面加"0"的原因是防止最高位进位是超过列表的容量限制</span></span><br><span class="line">    <span class="comment">#比如说9+9会向前面进一位,如果没有添加额外的0的话进位1就没地方存储</span></span><br><span class="line">    a = list(map(<span class="keyword">lambda</span> x : int(x), (<span class="string">"0"</span> + str(a)).strip()))</span><br><span class="line">    b = list(map(<span class="keyword">lambda</span> x : int(x), (<span class="string">"0"</span> + str(b)).strip()))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(a) - <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>):</span><br><span class="line">        temp = a[i] + b[i];</span><br><span class="line">        a[i - <span class="number">1</span>] += temp // <span class="number">10</span></span><br><span class="line">        a[i] = temp % <span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> int(reduce(<span class="keyword">lambda</span> x, y : str(x) + str(y), a))<span class="comment">#转换为字符串</span></span><br><span class="line"></span><br><span class="line">a, b = input(<span class="string">"input a: "</span>), input(<span class="string">"input b: "</span>)</span><br><span class="line">print(add(a, b))</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-25T14:10:29.000Z"><a href="/2015/05/25/搭建Hexo博客的简单步骤/">2015-05-25</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/25/搭建Hexo博客的简单步骤/">搭建Hexo博客的简单步骤</a></h1>
  

    </header>
    <div class="entry">
      
        <p>前期准备,注册github账号,并创建GitHub Pages<br>1:安装<a href="https://nodejs.org/" target="_blank" rel="external">node.js</a><br>2:安装<a href="http://git-scm.com/" target="_blank" rel="external">git</a><br>3:在你的计算机中创建一个工作根目录,比如我是将hexo目录创建在D盘的. <font color="0080ff">D:\hexo</font><br>3:打开工作根目录,右键调出gitbash<br>4:输入npm install -g hexo<br>5:输入hexo init<br>6:输入npm install<br>7:检查ssh_key</p>
<pre><code>ls -al ~/.ssh
<span class="comment">#如果没有请输入:</span>
ssh-keygen -t rsa -C <span class="string">"github注册邮箱"</span>
<span class="comment">#输入passphrase:要记住,后面用</span>
ssh-agent <span class="operator">-s</span>
ssh-add ~/.ssh/id_rsa <span class="comment">#如果本行出错执行下面两行</span>
<span class="built_in">eval</span> `ssh-agent <span class="operator">-s</span>`
ssh-add
<span class="comment">#然后在用户目录中找到.ssh目录中的id_rsa.pub,打开并复制其内容添加到github的ssh key中</span>
</code></pre><p>8:测试ssh_key是否成功</p>
<pre><code><span class="title">ssh</span> -T git<span class="variable">@github</span>.com
<span class="comment">#如果输出hi yourname... 那就正常了</span>
</code></pre><p>9:添加用户信息</p>
<pre><code>git config --<span class="built_in">global</span> user.name <span class="string">"cnfeat"</span> <span class="comment">#用户名</span>
git config --<span class="built_in">global</span> user.email  <span class="string">"cnfeat@gmail.com"</span> <span class="comment">#填写自己的邮箱</span>
</code></pre><p>10:编辑本地根目录中的配置文件<font color="0080ff">_config.yml</font>,添加github仓库信息</p>
<pre><code><span class="attribute">deploy</span>:
<span class="attribute">type</span>: git
<span class="attribute">repository</span>: git<span class="variable">@github</span>.<span class="attribute">com</span>:you_name/your_name.github.io.git
<span class="attribute">branch</span>: master
</code></pre><p>11:使用</p>
<pre><code><span class="title">hexo</span> n <span class="comment">#添加新文章</span>
hexo g <span class="comment">#生成文章</span>
hexo d <span class="comment">#发布</span>
hexo s <span class="comment">#打开本地服务器测试:localhost:4000</span>
</code></pre><p>注意:如果发布出现deplorer not found git,请使用如下命令,由于显示的原因,提示一下末尾的”—save”也是在命令中的:</p>
<pre><code>npm <span class="operator"><span class="keyword">install</span> hexo-deployer-git <span class="comment">--save </span></span>
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-25T13:56:44.510Z"><a href="/2015/05/25/hexo-的基本使用/">2015-05-25</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/25/hexo-的基本使用/">hexo 的基本使用</a></h1>
  

    </header>
    <div class="entry">
      
        <p>hexo创建新博客,生成,发布以及本地服务器测试的命令行</p>
<h2 id="快速入门">快速入门</h2><h3 id="创建一个新的博客">创建一个新的博客</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"新博客的名字"</span></span><br></pre></td></tr></table></figure>
<p>更多: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="在本地服务器上运行测试博客(localhost:4000)">在本地服务器上运行测试博客(localhost:4000)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>更多: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="生成静态HTML文件">生成静态HTML文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>更多: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="发布到远程服务器">发布到远程服务器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>更多: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-25T07:41:45.000Z"><a href="/2015/05/25/python34-访问MySQL数据库/">2015-05-25</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/25/python34-访问MySQL数据库/">python34 访问MySQL数据库</a></h1>
  

    </header>
    <div class="entry">
      
        <p>本文介绍如何使用MySQL官方提供的工具访问MySQL数据库<br>首先下载<a href="http://dev.mysql.com/downloads/connector/python/" target="_blank" rel="external">connector/python</a>, 这是一个.msi的安装文件,下载后双击安装到电脑, 然后开始连接数据库</p>
<h3 id="连接方式1">连接方式1</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mysql.connector</span><br><span class="line">cnx = mysql.connector.connect(user = <span class="string">"root"</span>, password = <span class="string">"admin"</span>, host = <span class="string">"127.0.0.1"</span>, database = <span class="string">"world"</span>)</span><br><span class="line">cnx.close()</span><br></pre></td></tr></table></figure>
<h3 id="连接方式2">连接方式2</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mysql.connector <span class="keyword">import</span> (connection)</span><br><span class="line">cnx = connection.MySQLConnection(user=<span class="string">'scott'</span>, password=<span class="string">'tiger'</span>, host=<span class="string">'127.0.0.1'</span>, database=<span class="string">'employees'</span>)</span><br><span class="line">cnx.close()</span><br></pre></td></tr></table></figure>
<p>两种连接方式都使用了connector,他们的作用是一样的,通常第一种方式用的更多</p>
<h3 id="连接方式3">连接方式3</h3><p>如果连接的参数较多,可以使用**运算符直接给connect()传递一个字典,以方便代码的维护</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">config = &#123;</span><br><span class="line">    <span class="string">"user"</span> : <span class="string">"root"</span>, </span><br><span class="line">    <span class="string">"password"</span> : <span class="string">"admin"</span>, </span><br><span class="line">    <span class="string">"host"</span> : <span class="string">"127.0.0.1"</span>, </span><br><span class="line">    <span class="string">"database"</span> : <span class="string">"world"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cnx = mysql.connector.connect(**config)</span><br><span class="line">cnx.close()</span><br></pre></td></tr></table></figure>
<p>我们可以访问数据库的过程加上异常处理</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mysql.connector</span><br><span class="line"><span class="keyword">from</span> mysql.connector <span class="keyword">import</span> errorcode</span><br><span class="line">cnx = <span class="keyword">None</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    cnx = mysql.connector.connect(user = <span class="string">"root"</span>, password = <span class="string">"admin"</span>, host = <span class="string">"127.0.0.1"</span>, database = <span class="string">"world"</span>)</span><br><span class="line"><span class="keyword">except</span> mysql.connector.Error <span class="keyword">as</span> err:  </span><br><span class="line">    <span class="keyword">if</span> err.errno == errorcode.ER_ACCESS_DENIED_ERROR:</span><br><span class="line">        print(<span class="string">"账户不存在或者密码错误"</span>)</span><br><span class="line">    <span class="keyword">elif</span> err.errno == errorcode.ER_BAD_DB_ERROR:</span><br><span class="line">        print(<span class="string">"数据库不存在"</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(err)</span><br><span class="line">    print(err)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"连接成功"</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    cnx.close()</span><br></pre></td></tr></table></figure>  
<p>连接后使用cnx返回的cursor对象即可访问数据库表中的内容了<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cursor = cnx.cursor()</span><br><span class="line">sql = <span class="string">"select * from city where CountryCode = \"CHN\" order by Name asc limit 1000"</span></span><br><span class="line">cursor.execute(sql)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> cursor:</span><br><span class="line">    print(x)</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-12T08:08:51.000Z"><a href="/2015/05/12/python-lambda表达式/">2015-05-12</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/12/python-lambda表达式/">python lambda表达式</a></h1>
  

    </header>
    <div class="entry">
      
        <p>什么是lambda表达式呢? 简单的说就是一个没有 “return” 语句的函数,或者叫”匿名函数”,看一个简单的lambda表达式例子</p>
<pre><code><span class="tag">lambda</span> <span class="rule"><span class="attribute">x </span>:<span class="value"> x + <span class="number">5</span></span></span>
</code></pre><p>lambda表达式有3个部分,第一部分就是”lambda”关键字的,标明这是一个lambda表达式,然后紧接着第二部分”变量”, 然后”:”后面接着第三部分”返回值”上面的表达式接收值x,然后返回x+5的值,相当于函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> n + <span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>看看有多个参数的lambda表达式(返回三个数的和):</p>
<pre><code><span class="tag">lambda</span> <span class="tag">x</span>, <span class="tag">y</span>, <span class="rule"><span class="attribute">z </span>:<span class="value"> x + y + z</span></span>
</code></pre><p>那么lambda表达式和函数有什么区别呢, 直观的函数肯定要写更多的代码,而lambda仅仅是一行表达式, 假如我们仅仅是临时一次使用一个简单函数(通常只有1-3行规模的),这个函数再也没有其他的用途, 那么选择单独定义一个函数显然是不聪明的,因为要更多的代码,额外的命名. 因此lambda就能很愉快的解决这个问题.</p>
<p>还有一个特点就是lambda表示式是可以赋值的,并可以在函数中构造并返回, 看如下例子</p>
<pre><code><span class="attribute">g </span>=<span class="string"> lambda x : x + 5</span>
</code></pre><p>这里’g’就相当于是lambda表达式”lambda x : x + 5”, 然后像函数一样使用即可:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">5</span></span><br><span class="line">n = g(x)</span><br><span class="line">print(n)<span class="comment">#结果输出10</span></span><br></pre></td></tr></table></figure>
<p>看看通过参数构造不同的lambda表达式:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_increament</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> x: x + n</span><br><span class="line"></span><br><span class="line">f = make_increament(<span class="number">10</span>)<span class="comment">#构造为"lambda x : x + 10", 并返回给f</span></span><br><span class="line">g = make_increament(<span class="number">100</span>)<span class="comment">#构造为"lambda x : x + 100", 并返回给g</span></span><br><span class="line"></span><br><span class="line">print(f(<span class="number">5</span>))<span class="comment">#输出15</span></span><br><span class="line">print(g(<span class="number">5</span>))<span class="comment">#输出105</span></span><br></pre></td></tr></table></figure>
<h2 id="其他看起来比较叼的应用">其他看起来比较叼的应用</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">foo = [<span class="number">2</span>, <span class="number">18</span>, <span class="number">9</span>, <span class="number">22</span>, <span class="number">17</span>, <span class="number">24</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">27</span>]</span><br><span class="line">print(list(filter(<span class="keyword">lambda</span> x: x % <span class="number">3</span> == <span class="number">0</span>, foo)))<span class="comment">#过滤出能被3整出的数</span></span><br><span class="line"><span class="comment">#输出[18, 9, 24, 12, 27]</span></span><br><span class="line"></span><br><span class="line">print(list(map(<span class="keyword">lambda</span> x: x * <span class="number">10</span>, foo)))<span class="comment">#将列表中的每个数乘上10</span></span><br><span class="line"><span class="comment">#输出[20, 180, 90, 220, 170, 240, 80, 120, 270]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce <span class="comment">#python34要从tools中导入reduce()函数</span></span><br><span class="line">print(reduce(<span class="keyword">lambda</span> x, y: x + y, foo))<span class="comment">#求列表的和</span></span><br><span class="line"><span class="comment">#输出139</span></span><br><span class="line"></span><br><span class="line">sentence = <span class="string">"It is raining cats and dogs"</span></span><br><span class="line">lens = list(map(<span class="keyword">lambda</span> x: len(x), sentence.split()))<span class="comment">#得到每个单词的长度</span></span><br><span class="line">print(lens)</span><br><span class="line"><span class="comment">#输出[2, 2, 7, 4, 3, 4]</span></span><br></pre></td></tr></table></figure>
<h2 id="filter(),_map(),_reduce()的作用简介">filter(), map(), reduce()的作用简介</h2><p>filter()函数的功能相当于过滤器。调用一个布尔函数bool_func来迭代遍历每个seq中的元素；返回一个使bool_seq返回值为true的元素的序列。</p>
<p>map()函数处理一个列表里的所有元素，可以使用一个for循环来完成这个工作。但是Python内置的map函数可以帮我们的忙，它接受函数和列表作为参数，然后返回函数处理之后的列表：</p>
<p>reduce()函数对sequence中的item顺序迭代调用function，如果有starting_value，还可以作为初始值调用</p>
<h2 id="附上python34文档对于上述三个函数的说明">附上python34文档对于上述三个函数的说明</h2><h3 id="map(function,_iterable,_…)">map(function, iterable, …)</h3><p>Return an iterator that applies function to every item of iterable, yielding the results. If additional iterable arguments are passed, function must take that many arguments and is applied to the items from all iterables in parallel. With multiple iterables, the iterator stops when the shortest iterable is exhausted. For cases where the function inputs are already arranged into argument tuples, see</p>
<h3 id="functools-reduce(function,_iterable[,_initializer])">functools.reduce(function, iterable[, initializer])</h3><p>Apply function of two arguments cumulatively to the items of sequence, from left to right, so as to reduce the sequence to a single value. For example, reduce(lambda x, y: x+y, [1, 2, 3, 4, 5]) calculates ((((1+2)+3)+4)+5). The left argument, x, is the accumulated value and the right argument, y, is the update value from the sequence. If the optional initializer is present, it is placed before the items of the sequence in the calculation, and serves as a default when the sequence is empty. If initializer is not given and sequence contains only one item, the first item is returned.</p>
<h3 id="filter(function,_iterable)">filter(function, iterable)</h3><p>Construct an iterator from those elements of iterable for which function returns true. iterable may be either a sequence, a container which supports iteration, or an iterator. If function is None, the identity function is assumed, that is, all elements of iterable that are false are removed.<br>Note that filter(function, iterable) is equivalent to the generator expression (item for item in iterable if function(item)) if function is not None and (item for item in iterable if item) if function is None.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-07T13:11:27.000Z"><a href="/2015/05/07/最大公约数的新理解/">2015-05-07</a></time>
      
      
  
    <h1 class="title"><a href="/2015/05/07/最大公约数的新理解/">最大公约数的新理解</a></h1>
  

    </header>
    <div class="entry">
      
        <p>今天在做一道题时要用到最大公约数,数据据范围是任意整数,也就是说正负数,包括0都要能正确无误的的计算出最大公约数,我才突然发现我之前求公约数函数有很大的局限性,即只能求两个正整数的公约数,我之前的方法就是始终用大的数去除以小的数,然后不断求余迭代,直到余数为0,然后输出公约数.</p>
<p>这是我之前求公约数的方法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a &lt; b)</span><br><span class="line">        swap(a, b);</span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">int</span> t = a % b)</span><br><span class="line">    &#123;</span><br><span class="line">        a = b;</span><br><span class="line">        b = t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从代码就能看出, 一旦遇到0, 程序就不能正常运行了.参考了一下他人的代码才发现比较大小的过程是没有必要的, 因为在一次循环后大小顺序已经交换了.假如现在求12和16的公约数, 首先是执行<font color="0080ff">12/16=0…12</font>, 然后迭代一次, 自然就得到了<font color="0080ff">16/12=1…4</font>的过程.处理这个问题还有一个更重要的地方就是如果遇到其中一个数0, 那么公约数就是另外一个, 因为0是不能作为约数的, 所有循环中的条件就应该检查被除数b是否为0, 而不是检查a除以b的余数是否为0.</p>
<p>综上, 得到了新的公约数算法,以下分别是循环版和递归版的算法:</p>
<h3 id="循环版本">循环版本</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> t = a % b;</span><br><span class="line">        a = b;</span><br><span class="line">        b = t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="递归版本(短小精悍的代码)">递归版本(短小精悍的代码)</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !b ? a : gcd2(b, a % b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样就能计算任意两个整数的公约数, 之前写的代码简直太挫了…</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
  
    <a href="/page/2/" class="alignright next">下一页</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/C/">C++</a><small>1</small></li>
  
    <li><a href="/categories/Hexo/">Hexo</a><small>2</small></li>
  
    <li><a href="/categories/Life/">Life</a><small>1</small></li>
  
    <li><a href="/categories/Python/">Python</a><small>6</small></li>
  
    <li><a href="/categories/other/">other</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/C/">C++</a><small>1</small></li>
  
    <li><a href="/tags/MySQL/">MySQL</a><small>1</small></li>
  
    <li><a href="/tags/hexo/">hexo</a><small>3</small></li>
  
    <li><a href="/tags/lambda表达式/">lambda表达式</a><small>1</small></li>
  
    <li><a href="/tags/python字典/">python字典</a><small>1</small></li>
  
    <li><a href="/tags/sublime-text/">sublime text</a><small>1</small></li>
  
    <li><a href="/tags/test/">test</a><small>1</small></li>
  
    <li><a href="/tags/排序/">排序</a><small>1</small></li>
  
    <li><a href="/tags/生活/">生活</a><small>1</small></li>
  
    <li><a href="/tags/高精度/">高精度</a><small>2</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 xanarry
  
</div>
<div class="clearfix"></div></footer>
  <script src="/js/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'xanarry';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



<script type="text/javascript">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?05b8c86ae6be8be1243fc590c74bfde1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


</body>
</html>