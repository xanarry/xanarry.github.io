<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>python lambda表达式 | xanarry&#39;s</title>
  <meta name="author" content="xanarry">
  
  <meta name="description" content="xanarry&#39;s blog">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="python lambda表达式"/>
  <meta property="og:site_name" content="xanarry&#39;s"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="xanarry&#39;s" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">xanarry&#39;s</a></h1>
  <h2><a href="/">创造就是一个构造过程的过程!</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-05-12T08:08:51.000Z"><a href="/2015/05/12/python-lambda表达式/">2015-05-12</a></time>
      
      
  
    <h1 class="title">python lambda表达式</h1>
  

    </header>
    <div class="entry">
      
        <p>什么是lambda表达式呢? 简单的说就是一个没有 “return” 语句的函数,或者叫”匿名函数”,看一个简单的lambda表达式例子</p>
<pre><code><span class="tag">lambda</span> <span class="rule"><span class="attribute">x </span>:<span class="value"> x + <span class="number">5</span></span></span>
</code></pre><p>lambda表达式有3个部分,第一部分就是”lambda”关键字的,标明这是一个lambda表达式,然后紧接着第二部分”变量”, 然后”:”后面接着第三部分”返回值”上面的表达式接收值x,然后返回x+5的值,相当于函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> n + <span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>看看有多个参数的lambda表达式(返回三个数的和):</p>
<pre><code><span class="tag">lambda</span> <span class="tag">x</span>, <span class="tag">y</span>, <span class="rule"><span class="attribute">z </span>:<span class="value"> x + y + z</span></span>
</code></pre><p>那么lambda表达式和函数有什么区别呢, 直观的函数肯定要写更多的代码,而lambda仅仅是一行表达式, 假如我们仅仅是临时一次使用一个简单函数(通常只有1-3行规模的),这个函数再也没有其他的用途, 那么选择单独定义一个函数显然是不聪明的,因为要更多的代码,额外的命名. 因此lambda就能很愉快的解决这个问题.</p>
<p>还有一个特点就是lambda表示式是可以赋值的,并可以在函数中构造并返回, 看如下例子</p>
<pre><code><span class="attribute">g </span>=<span class="string"> lambda x : x + 5</span>
</code></pre><p>这里’g’就相当于是lambda表达式”lambda x : x + 5”, 然后像函数一样使用即可:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">5</span></span><br><span class="line">n = g(x)</span><br><span class="line">print(n)<span class="comment">#结果输出10</span></span><br></pre></td></tr></table></figure>
<p>看看通过参数构造不同的lambda表达式:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_increament</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> x: x + n</span><br><span class="line"></span><br><span class="line">f = make_increament(<span class="number">10</span>)<span class="comment">#构造为"lambda x : x + 10", 并返回给f</span></span><br><span class="line">g = make_increament(<span class="number">100</span>)<span class="comment">#构造为"lambda x : x + 100", 并返回给g</span></span><br><span class="line"></span><br><span class="line">print(f(<span class="number">5</span>))<span class="comment">#输出15</span></span><br><span class="line">print(g(<span class="number">5</span>))<span class="comment">#输出105</span></span><br></pre></td></tr></table></figure>
<h2 id="其他看起来比较叼的应用">其他看起来比较叼的应用</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">foo = [<span class="number">2</span>, <span class="number">18</span>, <span class="number">9</span>, <span class="number">22</span>, <span class="number">17</span>, <span class="number">24</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">27</span>]</span><br><span class="line">print(list(filter(<span class="keyword">lambda</span> x: x % <span class="number">3</span> == <span class="number">0</span>, foo)))<span class="comment">#过滤出能被3整出的数</span></span><br><span class="line"><span class="comment">#输出[18, 9, 24, 12, 27]</span></span><br><span class="line"></span><br><span class="line">print(list(map(<span class="keyword">lambda</span> x: x * <span class="number">10</span>, foo)))<span class="comment">#将列表中的每个数乘上10</span></span><br><span class="line"><span class="comment">#输出[20, 180, 90, 220, 170, 240, 80, 120, 270]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce <span class="comment">#python34要从tools中导入reduce()函数</span></span><br><span class="line">print(reduce(<span class="keyword">lambda</span> x, y: x + y, foo))<span class="comment">#求列表的和</span></span><br><span class="line"><span class="comment">#输出139</span></span><br><span class="line"></span><br><span class="line">sentence = <span class="string">"It is raining cats and dogs"</span></span><br><span class="line">lens = list(map(<span class="keyword">lambda</span> x: len(x), sentence.split()))<span class="comment">#得到每个单词的长度</span></span><br><span class="line">print(lens)</span><br><span class="line"><span class="comment">#输出[2, 2, 7, 4, 3, 4]</span></span><br></pre></td></tr></table></figure>
<h2 id="filter(),_map(),_reduce()的作用简介">filter(), map(), reduce()的作用简介</h2><p>filter()函数的功能相当于过滤器。调用一个布尔函数bool_func来迭代遍历每个seq中的元素；返回一个使bool_seq返回值为true的元素的序列。</p>
<p>map()函数处理一个列表里的所有元素，可以使用一个for循环来完成这个工作。但是Python内置的map函数可以帮我们的忙，它接受函数和列表作为参数，然后返回函数处理之后的列表：</p>
<p>reduce()函数对sequence中的item顺序迭代调用function，如果有starting_value，还可以作为初始值调用</p>
<h2 id="附上python34文档对于上述三个函数的说明">附上python34文档对于上述三个函数的说明</h2><h3 id="map(function,_iterable,_…)">map(function, iterable, …)</h3><p>Return an iterator that applies function to every item of iterable, yielding the results. If additional iterable arguments are passed, function must take that many arguments and is applied to the items from all iterables in parallel. With multiple iterables, the iterator stops when the shortest iterable is exhausted. For cases where the function inputs are already arranged into argument tuples, see</p>
<h3 id="functools-reduce(function,_iterable[,_initializer])">functools.reduce(function, iterable[, initializer])</h3><p>Apply function of two arguments cumulatively to the items of sequence, from left to right, so as to reduce the sequence to a single value. For example, reduce(lambda x, y: x+y, [1, 2, 3, 4, 5]) calculates ((((1+2)+3)+4)+5). The left argument, x, is the accumulated value and the right argument, y, is the update value from the sequence. If the optional initializer is present, it is placed before the items of the sequence in the calculation, and serves as a default when the sequence is empty. If initializer is not given and sequence contains only one item, the first item is returned.</p>
<h3 id="filter(function,_iterable)">filter(function, iterable)</h3><p>Construct an iterator from those elements of iterable for which function returns true. iterable may be either a sequence, a container which supports iteration, or an iterator. If function is None, the identity function is assumed, that is, all elements of iterable that are false are removed.<br>Note that filter(function, iterable) is equivalent to the generator expression (item for item in iterable if function(item)) if function is not None and (item for item in iterable if item) if function is None.</p>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/Python/">Python</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/lambda表达式/">lambda表达式</a>
  </div>

        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">留言</h1>

  
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
  
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分类</h3>
  <ul class="entry">
  
    <li><a href="/categories/C/">C++</a><small>1</small></li>
  
    <li><a href="/categories/Hexo/">Hexo</a><small>2</small></li>
  
    <li><a href="/categories/Life/">Life</a><small>1</small></li>
  
    <li><a href="/categories/Python/">Python</a><small>7</small></li>
  
    <li><a href="/categories/other/">other</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/C/">C++</a><small>1</small></li>
  
    <li><a href="/tags/MySQL/">MySQL</a><small>1</small></li>
  
    <li><a href="/tags/hexo/">hexo</a><small>3</small></li>
  
    <li><a href="/tags/lambda表达式/">lambda表达式</a><small>1</small></li>
  
    <li><a href="/tags/python字典/">python字典</a><small>1</small></li>
  
    <li><a href="/tags/sublime-text/">sublime text</a><small>1</small></li>
  
    <li><a href="/tags/test/">test</a><small>1</small></li>
  
    <li><a href="/tags/排序/">排序</a><small>1</small></li>
  
    <li><a href="/tags/生活/">生活</a><small>1</small></li>
  
    <li><a href="/tags/高精度/">高精度</a><small>3</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 xanarry
  
</div>
<div class="clearfix"></div></footer>
  <script src="/js/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'xanarry';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



<script type="text/javascript">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?05b8c86ae6be8be1243fc590c74bfde1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


</body>
</html>